# BigData
# 数据仓库基础理论
1. 数据仓库DW，是一个用于存储、分析、报告的数据系统   
2. 数据仓库的目的是构建**面向分析**的集成化数据环境，分析结果为企业提供决策知识
3. 数据仓库本身不生产数据，数据来自于外部系统
4. 数据仓库本身不消费数据，开放给外部应用使用，数据仓库为**分析数据**而来
5. 联机事务处理系统OLTP：前台接受的用户数据可以立刻传送到后台并在短时间内返回结果，OLTP的典型应用就是关系型数据库，对OLTP来说读压力更大
6. 为了更好地进行不同规模的数据分析也不影响OLTP系统的运行，需要构建一个集成统一的数据分析平台，特点：面向分析、支持分析，与OLTP系统解耦合
7. 数据特点：面向主题、集成性、非易失性、时变性
8. OLTP联机事务处理（增删改查），OLAP联机分析处理，数据库与数据仓库的区别可以认为就是OLTP和OLAP的区别
9. 数据集市是数据仓库的子集，面向单个部门使用的
10. 数据仓库理论上分成三个层，操作型数据层（数据准备区，结构上与源数据一致）、数据仓库层（DW）、数据应用层，ETL是抽取转换加载
11. 分层的意义：清晰数据结构、数据血缘追踪、减少重复开发、复杂问题简单化、屏蔽原始数据的异常
12. ETL和ELT的区别：抽取转换加载 抽取加载转换
# Apache Hive
1. hive是建立在Hadoop上的一款数据仓库系统，可以**将存储在Hadoop文件中的结构化、半结构化数据映射为一张数据库表**（通过记录元数据信息，将文件对应成表），基于表提供了一种类似SQL的查询模型，称为HIVE 查询语言（HQL），用于访问和分析存储在Hadoop文件中的大型数据集。Hive核心是**将HQL转换为MapReduce程序**，然后将程序提交到Hadoop群集执行。Hive由facebook提出并开源。
2. 数据仓库软件一定要具备存储数据和分析数据的能力，hive用hdfs存储数据，用mapReduce查询分析数据，hive让用户专注于编写HQL，自动转换成mapReduce
3. Hive组件：元数据信息（存储在关系型数据库中）、DRIVE驱动程序（语法解析器、计划编译器、优化器、执行器）、执行引擎（MapReduce、Spark3）
4. Hive数据模型：用来描述数据、组织数据和对数据进行操作，是对现实世界数据特征的描述。Hive的数据模型类似于RDBMS，从粒度上，Hive的数据包括表、分区、分桶
5. Hive在结构上向传统数据库看齐，数据存储在hdfs上，默认有一个根目录，在hive-site.xml文件中由参数hive.metastore.warehouse.dir指定，默认为/user/hive/warehouse，hive数据库在hdfs的存储路径为${hive.metastore.warehouse.dir}/databasename.db
6. Hive数据库与关系数据库中的表一样，hive中表对应的数据存储在hdfs中，而表相关的元数据存储在RDBMS上。hive中的表在hdfs存储路径为${hive.metastore.warehouse.dir}/databasename.db/tablename
7. 元数据：描述数据的数据。元数据服务：管理元数据，客户端链接metastore服务，利用它访问mysql存取元数据
8. metasotre服务配置模式：内嵌模式、本地模式、远程模式；区分的方式是metastore是否单独启动单独配置、是存储再内置的derby还是mysql
内嵌模式：不用单独配置启动，使用内置derby
本地模式：不用单独配置启动，使用mysql
远程模式：单独配置启动，存储在mysql中
